{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[email,setEmail]=useState('');const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const[successMessage,setSuccessMessage]=useState('');const[loading,setLoading]=useState(false);// New loading state\nconst navigate=useNavigate();const handleRegister=async()=>{if(email&&username&&password){setLoading(true);// Start loading\ntry{const response=await axios.post('http://localhost:5001/api/register',{email,username,password});setLoading(false);// Stop loading\nsetSuccessMessage(response.data.message);}catch(error){setLoading(false);// Stop loading\nif(error.response){setErrorMessage(error.response.data.message||'Registration failed. Please try again.');}else{setErrorMessage('Registration failed. Please try again.');}}}else{setErrorMessage('Please enter all fields.');}};const handleLoginRedirect=()=>{navigate('/login');// Redirect to the login page\n};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-blue-500 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 p-6 rounded-lg max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",className:\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Username\",className:\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",className:\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleRegister,className:\"block w-full py-2 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\",disabled:loading// Disable button when loading\n,children:[loading?'Registering...':'Register',\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginRedirect,className:\"block w-full mt-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500\",children:\"Go to Login\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 mt-2\",children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-400 mt-2\",children:successMessage})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Register","email","setEmail","username","setUsername","password","setPassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","loading","setLoading","navigate","handleRegister","response","post","data","message","error","handleLoginRedirect","className","children","type","value","onChange","e","target","placeholder","onClick","disabled"],"sources":["/home/liz/Documents/projects/js-game/frontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Register = () => {\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const [successMessage, setSuccessMessage] = useState('');\n    const [loading, setLoading] = useState(false); // New loading state\n    const navigate = useNavigate();\n\n    const handleRegister = async () => {\n        if (email && username && password) {\n            setLoading(true); // Start loading\n            try {\n                const response = await axios.post('http://localhost:5001/api/register', { email, username, password });\n                setLoading(false); // Stop loading\n                setSuccessMessage(response.data.message);\n            } catch (error) {\n                setLoading(false); // Stop loading\n                if (error.response) {\n                    setErrorMessage(error.response.data.message || 'Registration failed. Please try again.');\n                } else {\n                    setErrorMessage('Registration failed. Please try again.');\n                }\n            }\n        } else {\n            setErrorMessage('Please enter all fields.');\n        }\n    };\n\n    const handleLoginRedirect = () => {\n        navigate('/login'); // Redirect to the login page\n    };\n\n    return (\n        <div className=\"min-h-screen bg-blue-500 flex items-center justify-center p-4\">\n            <div className=\"bg-gray-900 p-6 rounded-lg max-w-md w-full\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Register</h3>\n                <input\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"Email\"\n                    className=\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <input\n                    type=\"text\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    placeholder=\"Username\"\n                    className=\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <input\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Password\"\n                    className=\"block w-full mb-4 p-3 rounded border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <button\n                    onClick={handleRegister}\n                    className=\"block w-full py-2 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    disabled={loading} // Disable button when loading\n                >\n                    {loading ? 'Registering...' : 'Register'} {/* Show different text when loading */}\n                </button>\n                <button\n                    onClick={handleLoginRedirect}\n                    className=\"block w-full mt-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                >\n                    Go to Login\n                </button>\n                {loading && <div className=\"spinner\"></div>}\n\n                {errorMessage && <p className=\"text-red-400 mt-2\">{errorMessage}</p>}\n                {successMessage && <p className=\"text-green-400 mt-2\">{successMessage}</p>}\n            </div>\n        </div>\n    );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}