{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5001';function VerifyEmail(){const{token}=useParams();const[message,setMessage]=useState('');const navigate=useNavigate();useEffect(()=>{const verifyToken=async()=>{try{const response=await axios.post(`${API_URL}/api/verify-email`,{token});console.log(\"Verification response:\",response.data);setMessage('Email verified successfully! You can now log in.');}catch(error){console.error(\"Verification failed:\",error.response?error.response.data:error.message);setMessage('Verification failed. Please check the link or try again.');}};verifyToken();},[token]);const handleLoginRedirect=()=>{navigate('/login');// Redirect to the login page\n};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg max-w-md w-full text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white mb-4\",children:message}),message.includes('successfully')&&/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginRedirect,className:\"mt-4 py-2 px-4 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:\"Go to Login\"})]})});}export default VerifyEmail;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","VerifyEmail","token","message","setMessage","navigate","verifyToken","response","post","console","log","data","error","handleLoginRedirect","className","children","includes","onClick"],"sources":["/home/liz/Documents/projects/js-game/frontend/src/components/VerifyEmail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n\nfunction VerifyEmail() {\n  const { token } = useParams();\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const verifyToken = async () => {\n      try {\n        const response = await axios.post(`${API_URL}/api/verify-email`, { token });\n        console.log(\"Verification response:\", response.data);\n        setMessage('Email verified successfully! You can now log in.');\n      } catch (error) {\n        console.error(\"Verification failed:\", error.response ? error.response.data : error.message);\n        setMessage('Verification failed. Please check the link or try again.');\n      }\n    };\n    verifyToken();\n  }, [token]);\n\n  const handleLoginRedirect = () => {\n    navigate('/login'); // Redirect to the login page\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-800 p-6 rounded-lg max-w-md w-full text-center\">\n        <p className=\"text-white mb-4\">{message}</p>\n        {message.includes('successfully') && (\n          <button\n            onClick={handleLoginRedirect}\n            className=\"mt-4 py-2 px-4 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Go to Login\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default VerifyEmail;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAExE,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAAEC,KAAM,CAAC,CAAGX,SAAS,CAAC,CAAC,CAC7B,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAgB,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAC,GAAGX,OAAO,mBAAmB,CAAE,CAAEK,KAAM,CAAC,CAAC,CAC3EO,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEH,QAAQ,CAACI,IAAI,CAAC,CACpDP,UAAU,CAAC,kDAAkD,CAAC,CAChE,CAAE,MAAOQ,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAACL,QAAQ,CAAGK,KAAK,CAACL,QAAQ,CAACI,IAAI,CAAGC,KAAK,CAACT,OAAO,CAAC,CAC3FC,UAAU,CAAC,0DAA0D,CAAC,CACxE,CACF,CAAC,CACDE,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACJ,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAW,mBAAmB,CAAGA,CAAA,GAAM,CAChCR,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CAAC,CAED,mBACEX,IAAA,QAAKoB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC5EnB,KAAA,QAAKkB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrErB,IAAA,MAAGoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEZ,OAAO,CAAI,CAAC,CAC3CA,OAAO,CAACa,QAAQ,CAAC,cAAc,CAAC,eAC/BtB,IAAA,WACEuB,OAAO,CAAEJ,mBAAoB,CAC7BC,SAAS,CAAC,qHAAqH,CAAAC,QAAA,CAChI,aAED,CAAQ,CACT,EACE,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAd,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}